"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useLanguagePicker = useLanguagePicker;
const hooks_1 = require("../../core/hooks");
const utils_1 = require("../../core/utils");
function useLanguagePicker() {
    const { useL10nConfig, usePreloadHistory } = (0, hooks_1.useThemeHooks)();
    const history = usePreloadHistory();
    const { currentLocale, locales, defaultLocale } = useL10nConfig();
    const locale = locales.find((l) => l.code === currentLocale);
    function setLocale(value) {
        const newLangPathname = (0, utils_1.withPathPrefix)((0, utils_1.getPathnameForLocale)(location.pathname, defaultLocale, value, locales));
        const newUrlWithLanguage = `${newLangPathname}${location.search}${location.hash}`;
        history.push(newUrlWithLanguage);
    }
    return {
        currentLocale: locale,
        locales,
        setLocale,
    };
}
//# sourceMappingURL=use-language-picker.js.map
import React from 'react';
import styled from 'styled-components';

import { SearchTrigger } from '@redocly/theme/components/Search/SearchTrigger';
import { SearchDialog } from '@redocly/theme/components/Search/SearchDialog';
import { useSearchDialog } from '@redocly/theme/core/hooks';

export type SearchProps = {
  className?: string;
};

export function Search({ className }: SearchProps): JSX.Element {
  const { isOpen, onOpen, onClose } = useSearchDialog();

  return (
    <SearchWrapper data-component-name="Search/Search" className={className}>
      <SearchTrigger onClick={onOpen} />
      {isOpen && <SearchDialog onClose={onClose} />}
    </SearchWrapper>
  );
}

const SearchWrapper = styled.div`
  margin-left: auto;
`;

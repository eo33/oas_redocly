import markdoc from '@markdoc/markdoc';

import type { MarkdocSchemaWrapper } from '@redocly/theme/markdoc/tags/types';

export const debug: MarkdocSchemaWrapper = {
  schema: {
    attributes: {
      value: {},
    },
    transform(node, config) {
      const attributes = node.transformAttributes(config);

      return new markdoc.Tag('pre', {}, [JSON.stringify(attributes.value, null, 2)]);
    },
  },
  tagName: 'debug',
};

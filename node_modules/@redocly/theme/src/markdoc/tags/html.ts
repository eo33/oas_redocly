import markdoc from '@markdoc/markdoc';

import type { MarkdocSchemaWrapper } from '@redocly/theme/markdoc/tags/types';

const mapHtmlTags: Record<string, string> = {
  script: 'HtmlScript',
};

export const html: MarkdocSchemaWrapper = {
  schema: {
    attributes: {
      name: { type: String, required: true },
      attrs: { type: Object },
    },
    transform(node: any, config: any) {
      const { name, attrs } = node.attributes;
      const children = node.transformChildren(config);
      return new markdoc.Tag(mapHtmlTags[name] || name, attrs, children);
    },
  },
  tagName: 'html',
};

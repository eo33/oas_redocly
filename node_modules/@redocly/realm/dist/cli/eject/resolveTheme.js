import*as f from"path";import{bold as i}from"colorette";import{existsSync as m}from"node:fs";import{resolvePlugins as u}from"../../server/config/external-plugins.js";import{USER_THEME_ALIAS as a}from"../../server/config/constants.js";import{reporter as l}from"../../server/utils/index.js";const d=[".tsx",".ts",".mjsx",".mjs",".jsx",".js"];async function T(t,s,e,n){const o=(await u(t,s)).find(r=>e?r.name===e:h(r,n));if(!o){const r=e?`The requested theme ${i(e)} does not exist`:n?`The requested component ${i(n)} does not exist in any theme`:void 0;r&&l.panicOnBuildContentError(r)}return o}function h(t,s){if(t.name===a||!s)return!1;for(const e of d)if(m(f.join(t.pluginDirAbsolutePath,s+e)))return!0;return!1}export{T as resolveTheme};

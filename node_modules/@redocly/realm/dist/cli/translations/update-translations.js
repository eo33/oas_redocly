import{writeFileSync as f}from"fs";import l from"path";import{dump as m}from"js-yaml";import{defaultTranslations as c}from"../../shared/l10n/default-translations.js";import{sortObjectKeys as p}from"../../shared/jsUtils.js";import{ensureDir as d}from"../../server/utils/fs.js";import{collectConfigTranslations as h}from"./collect-config-translations.js";const j=async(o,i)=>{const s=await h(o);for(const t of i){const a=await o.fs.exists(t.filePath)?(await o.cache.load(t.filePath,"yaml")).data||{}:{};if(!a)continue;const r={...c,...s,...a},n=p(r),e=l.join(o.fs.cwd,t.filePath);f(d(e),m(n))}};export{j as updateTranslations};

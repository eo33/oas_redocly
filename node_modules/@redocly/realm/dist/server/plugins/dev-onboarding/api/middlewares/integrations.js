import{AdapterFactory as i}from"../adapter-factory.js";import{CombineAdapter as s}from"../combine.js";const p=new i;function A(n,o){return async(e,d)=>{const t=e.get("auth");if(!t.isAuthenticated)return e.json({error:"Unauthorized"},401);const r=n.map(a=>p.getAdapter(a,o,t.claims,t.idpAccessToken));if(r.length===1)e.set("devOnboardingAdapter",r[0]);else{const a=new s(r);e.set("devOnboardingAdapter",a)}await d()}}export{A as integrationsMiddleware};

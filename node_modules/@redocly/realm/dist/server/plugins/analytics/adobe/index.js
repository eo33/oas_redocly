import{isProductionMode as n}from"../../../../shared/env.js";import{buildScript as i}from"./build-script.js";import{resolveBrowserHooksPath as e}from"./resolve-browser-hooks.js";import{Feature as s}from"../../../entitlements/entitlements.types.js";async function m(){return{id:"Adobe Analytics",requiredEntitlements:[s.Analytics],async processContent(r,{getConfig:t}){const o=(await t())?.analytics?.adobe;!o?.scriptUrl||!n()&&!o.includeInDevelopment||(r.addSsrComponents([i(o.scriptUrl)],"head"),r.addBrowserPlugin(e()))}}}export{m as adobeAnalyticsPlugin};

import{isProductionMode as o}from"../../../../shared/env.js";import{buildScript as r}from"./build-script.js";import{resolveBrowserHooksPath as i}from"./resolve-browser-hooks.js";import{Feature as s}from"../../../entitlements/entitlements.types.js";async function p(){return{id:"Segment Analytics",requiredEntitlements:[s.Analytics],async processContent(n,{getConfig:t}){const e=(await t())?.analytics?.segment;!e?.writeKey||!o()&&!e.includeInDevelopment||(n.addSsrComponents([r(e)],"head"),n.addBrowserPlugin(i()))}}}export{p as segmentAnalyticsPlugin};

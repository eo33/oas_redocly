import{isProductionMode as n}from"../../../../shared/env.js";import{buildScript as o}from"./build-script.js";import{resolveBrowserHooksPath as i}from"./resolve-browser-hooks.js";import{Feature as s}from"../../../entitlements/entitlements.types.js";async function m(){return{id:"Rudderstack Analytics",requiredEntitlements:[s.Analytics],async processContent(t,{getConfig:e}){const r=(await e())?.analytics?.rudderstack;!r?.writeKey||!n()&&!r.includeInDevelopment||(t.addSsrComponents([o(r)],"head"),t.addBrowserPlugin(i()))}}}export{m as rudderstackAnalyticsPlugin};

import s from"@redocly/ajv";import{removeDeepProperty as l}from"../../../shared/jsUtils.js";function v(t,e){const r=JSON.parse(JSON.stringify(e)),a=c(t);return a(r||{})||(a.errors?.map(n=>n.instancePath.slice(1))?.forEach(n=>{const o=n.split("/");l(r,o)}),a(r||{})),r||{}}function c(t){if(!t.$id)return i.compile(t);const e=i.getSchema(t.$id);return e||(i.addSchema(t),i.compile(t))}const i=new s({strictSchema:!1,allowUnionTypes:!0,useDefaults:!0,allErrors:!0,discriminator:!0,strictTypes:!1,verbose:!0});export{i as ajv,v as safeParsePartial};

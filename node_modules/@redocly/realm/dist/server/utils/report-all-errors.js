import{isMarkdocError as f}from"../plugins/markdown/errors.js";import{reporter as e}from"./reporter/reporter.js";import{isBuildMode as a}from"./is-build-mode.js";import p from"./reporter/logger.js";async function g(i){let o=0;for(const[s,n]of i.cache.errors.entries()){const c=s.split(":")[1];for(const r of n)f(r)?(e.reportMarkdocProblem(r),r.type==="MARKDOC"&&o++):e.panicOnBuild(r.message,c)}const t=await i.getConfig();!a()||t?.reunite?.ignoreMarkdocErrors||o>0&&(e.printErrors(),p.panic(`Need to fix (${o}) Markdoc issues or set the \`ignoreMarkdocErrors\` option to \`true\` in the \`reunite\` section of your \`redocly.yaml\``))}export{g as reportAllErrors};

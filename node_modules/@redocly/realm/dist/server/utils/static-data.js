import o from"path";import{stat as n,readFile as s}from"fs/promises";import{writeFileSync as c}from"fs";import{ensureDir as f}from"./fs.js";import{removeTrailingSlash as m}from"../../shared/utils.js";const y=(t,a,r)=>{const i=e(t,r);c(f(i),JSON.stringify(a),"utf-8")},w=async(t,a)=>{const r=e(t,a);return await p(r)?s(r,"utf-8").then(i=>JSON.parse(i)):{}},e=(t,a)=>o.join(a,"static-data",`${m(t.slice(1))}.json`);async function p(t){try{return await n(t),!0}catch{return!1}}export{w as readStaticData,y as writeStaticData};

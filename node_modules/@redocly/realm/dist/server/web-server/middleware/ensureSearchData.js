import{SearchEngine as r}from"../../plugins/search/engines/search-engine.js";import{logger as e}from"../../utils/index.js";import{DEFAULT_SEARCH_ENGINE as t}from"../../plugins/search/constants.js";function f(a){return async(o,i)=>{if(!a.searchEngine){e.info("Loading search data...");const c=a.config?.search?.engine??t,n=new r(c,a.globalData.l10n);await n.initIndexSchema(a.searchFacets),await n.import(a.outdir),a.setSearchEngine(n),e.info("Search data loaded")}await i()}}export{f as ensureSearchData};

async function t(e){return e.html(`
    <!DOCTYPE html>
      <html lang="en">
        <head>
          <meta charset="utf-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
          <title>Redocly Redoc: OAuth2 Redirect</title>
      
          <style>
            .user-info {
              margin: 150px auto auto;
              width: 50%;
              background-color: whitesmoke;
              padding: 20px;
              text-align: center;
            }
          </style>
        </head>
      
        <body>
          <script>
            const c = "Something went wrong, please, try again.";
            function t(o) {
              return o && o.replace(/=+$/, "");
            }
            function a(o, e) {
              return !!o && !!e && t(o) === t(e);
            }
            function y(o) {
              let e;
              if (/code|token|error/.test(window.location.hash) ? e = window.location.hash.substring(1) : e = location.search.substring(1), !e)
                throw console.error("No query string in OAuth 2 redirect URL"), new Error(c);
              const n = new URLSearchParams(e), r = n.get("access_token"), s = n.get("code"), i = n.get("token_type"), w = n.get("expires_in"), l = n.get("state"), g = n.get("error"), u = n.get("error_description") || c;
              if (g)
                throw new Error(u);
              if (!a(l, o == null ? void 0 : o.state))
                throw new Error("Outdated OAuth2 state");
              if ((o == null ? void 0 : o.flow) === "implicit") {
                if (!r)
                  throw new Error(
                    \`Your OAuth2 authentication service provider redirected you without an "access_token".
            Please, try again or make sure your OAuth2 settings are correct.\`
                  );
                if (!i)
                  throw new Error(
                    \`Your OAuth2 authentication service provider redirected you without a "token_type".
            Please, try again or make sure your OAuth2 settings are correct.\`
                  );
                o == null || o.successCallback({
                  access_token: r,
                  token_type: i,
                  expires_in: w,
                  auth_code: ""
                });
              }
              if ((o == null ? void 0 : o.flow) === "authorizationCode") {
                if (!s)
                  throw new Error(
                    \`Your OAuth2 authentication service provider redirected you without authorization "code".
            Please, try again or make sure your OAuth2 settings are correct.\`
                  );
                o == null || o.successCallback({
                  auth_code: s,
                  access_token: "",
                  token_type: "bearer"
                });
              }
            }
            function k() {
              var e;
              const o = (e = window.opener) == null ? void 0 : e.redirectOAuth2;
              try {
                y(o);
              } catch (n) {
                o == null || o.errorCallback(n);
              }
              window.close();
            }
            window.onload = k;
          </script>
      
          <noscript> You need to enable JavaScript to run this app. </noscript>
        </body>
      </html>
    `)}export{t as replayOauth2RedirectCallbackHandler};

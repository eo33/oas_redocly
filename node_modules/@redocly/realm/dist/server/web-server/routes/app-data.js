import{filterDataByAccessDeep as o}from"../../utils/rbac.js";import{CACHE_CONTROL_NO_CACHE_HEADER_VALUE as c}from"../../constants.js";function f(a){return async t=>{const{isAuthenticated:e,teams:n,claims:{email:r}}=t.get("auth"),i=o(a.getGlobalData(),{isAuthenticated:e,email:r,teams:n},a.config.rbac,a.config.requiresLogin);return t.json({...i},200,{"Cache-Control":c})}}export{f as appDataHandler};

import{generatePortalResolverDir as a}from"./codegen/generate-resolver-dir.js";const d=()=>{const t={},l=a(),p=["react","styled-components"];return{name:"dependency-resolver",setup(n){for(const c of p){const i=r(c);n.onResolve({filter:i,namespace:"file"},async e=>{if(e.resolveDir==="")return;if(t[e.path]!==void 0)return t[e.path];const o=!!n.initialOptions.external?.some(s=>r(s).test(e.path));return o?(t[e.path]=Promise.resolve({path:e.path,external:o}),t[e.path]):(t[e.path]=n.resolve(e.path,{kind:e.kind,resolveDir:l}),t[e.path])})}}}};function r(t){return new RegExp(`^${t}(/|$)`)}export{d as DependencyResolver};

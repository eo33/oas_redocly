import o from"path";import l from"js-yaml";import*as m from"fs";const i=a=>({name:"yaml",setup(t){t.onResolve({filter:/\.(yml|yaml)$/},e=>{if(e.resolveDir!=="")return{path:o.isAbsolute(e.path)?e.path:o.join(e.resolveDir,e.path),namespace:"yaml"}}),t.onLoad({filter:/.*/,namespace:"yaml"},async e=>{const r=await m.promises.readFile(e.path,"utf8");let n=l.load(r,a?.loadOptions);return{contents:JSON.stringify(n),loader:"json"}})}});export{i as YamlLoader};

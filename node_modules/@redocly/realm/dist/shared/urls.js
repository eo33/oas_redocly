import{DEFAULT_LOCALE_PLACEHOLDER as p,ServerRoutes as f}from"./constants.js";import{getPathPrefix as i}from"./utils.js";function l(t){return`/page-data${t==="/"?"/index":t}/data.json`}function R(t){const e=i();if(e){const r=t.slice(e.length);return`${e}/page-data${r==="/"?"/index":r}/data.json`}return l(t)}function U(t){return`/page-data/shared/${t}.json`}const E="/app-data.json",_="/eject-component";function x(t,...e){let r=t;for(let n of e)r=n?r.replace(/[\/\\]+$/,"")+"/"+n.replace(/^[\/\\]+/,""):r;return r}function P(t){return x(i(),t)}function m(t){const e=decodeURI(t);return encodeURI(e.replace(/^[\/\s\u0000]+/g,"/"))}function u(t){const e=i();return e&&t.startsWith(e)?t.slice(e.length):t}function $(t){if(t!=null)return t.split("#")[0]}function d(t,e){const r=t.indexOf("?")>-1?"&":"?";return`${t}${r}${new URLSearchParams(e).toString()}`}const A=process.env.SERVER_EDITOR_APP_URL||"http://127.0.0.1:3000";function D(t){return/^https?:\/\//.test(t)}function O(t,e,r,n){const c=u(t),o=h(t,e,n);if(o===r)return c;const a=o===e?c:c.slice(o.length+1);return`${(r===e?"":"/"+r).toLowerCase()}${a}`}function h(t,e=p,r=[]){const n=u(t)?.split("/")[1];return r.find(o=>o.code.toLowerCase()===n)?.code||e}function C(t,e,r,n,c,o={}){if(!t)return;const a=n?.[e]||P(f.IDP_LOGIN),s={idpId:t,localePrefix:r,redirectTo:c||"",...o};return d(a,s)}export{_ as EJECT_COMPONENT_URL,E as GLOBAL_DATA_URL,A as SERVER_EDITOR_APP_URL,d as appendQueryParams,C as buildClientLoginUrl,x as combineUrls,R as getClientPageDataUrl,h as getLocaleFromPathname,l as getPageDataUrl,O as getPathnameForLocale,U as getSharedDataUrl,D as isAbsoluteUrl,m as sanitizeRedirectPathname,P as withPathPrefix,$ as withoutHash,u as withoutPathPrefix};

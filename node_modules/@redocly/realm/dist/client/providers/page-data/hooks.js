import s,{useContext as i}from"react";import{useLocation as u}from"react-router-dom";import{removeLeadingSlash as c,removeTrailingSlash as p}from"@redocly/theme/core/utils";import{getSiblingPages as d}from"../../utils";import{PageDataContext as a}from"./PageDataContext.js";import{Loader as g}from"../../runtime/loader";import{useRawSidebarItems as v}from"../../app/Sidebar/useSidebarItems";import{findDeepFirst as f}from"../../../shared/jsUtils.js";import{usePageSharedData as x}from"./use-page-shared-data";export*from"./use-page-shared-data";function F(){return i(a)}function R(){return i(a)?.props||{}}function S(){const e=b(),{versions:o=[]}=i(a)||{};return{versions:s.useMemo(()=>o.map(r=>{const n=!!f(e,t=>t.version===r.version&&typeof t.link=="string"&&c(p(t.link))===c(p(r.link))),l=f(e,t=>t.version===r.version&&!!t.link);return{...r,link:(n?r.link:l?.link)||r.link}}),[o,e])}}function b(){const e=x("sidebar")?.items;return s.useMemo(()=>e||[],[e])}function w(){const e=u(),{versions:o=[]}=S()||{},m=o.find(n=>n?.active),r=v(m);return s.useMemo(()=>{if(r)return d(r,e.pathname)},[e.pathname,r])}function E(){const e=u();return g.loadSync(e.pathname)}export{F as usePageData,E as usePageDataLoader,R as usePageProps,S as usePageVersions,b as useSidebarItemsData,w as useSidebarSiblingsData};

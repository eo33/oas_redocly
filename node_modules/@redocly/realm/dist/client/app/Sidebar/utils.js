import{withPathPrefix as h}from"../../../shared/urls.js";import{removeTrailingSlash as u}from"../../../shared/utils.js";import{OPENAPI_DOCS_TEMPLATE_ID as l}from"../../../shared/constants";function p(t,n,r="",e){return t.map(s=>{const o=f(s,r,n,e),m=i(s,r,n,e);return{...s,items:p(s.items||[],n,r,e),active:o&&!m,hasActiveSubItem:m}}).filter(Boolean)}function f(t,n="",r,e){const s=r.pathname;if(!t.link)return!1;const[o,m]=t.link.split("#");return n&&e===l?decodeURIComponent(u(o))===n:decodeURIComponent(u(s))===decodeURIComponent(u(h(a(s,o))))?!m||m===n:!1}function i(t,n="",r,e){return(t.items||[]).some(o=>f(o,n,r,e)||i(o,n,r,e))}function a(t,n){const r=new URL(t,"http://localhost");return new URL(n,r.href).pathname}export{p as mapItemsPropsToState};

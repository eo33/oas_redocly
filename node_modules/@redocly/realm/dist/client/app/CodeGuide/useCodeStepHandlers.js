import{debounce as g}from"../../../shared/jsUtils";const h=30,S=18;function T({nodeRef:t,bindTo:e,context:o}){const{updateHighlightedLines:n,setCurrentCodeSample:r,setActiveDocumentationSection:f}=o,[a,d]=e.split("#"),s=(i,c,l)=>{if(o.activeDocsSection===e)return;r(i),setTimeout(()=>{n(c),f(e)},0);const m=C()||h,u=parseInt(c)||1;if(u>m){const p=u*S;l?.scrollTo(0,p)}else l?.scrollTo(0,0)};return{onScroll:i=>{if(t.current){const c=t.current.getBoundingClientRect().top;c<300&&c>150&&g(s)(a,d,i)}},activateSection:s}}function C(){const t=document.querySelector('[data-component-name="CodeBlock/CodeBlockContainer"]');if(!t)return;const e=t.querySelectorAll("span.code-line");for(let o=0;o<=e.length;o++){const n=e[o];if(n.offsetTop+n.offsetHeight>t.getBoundingClientRect().height)return Number(n.getAttribute("data-line-number"))}}export{T as useCodeStepHandlers};

import*as n from"react";import{ErrorDetails as c}from"./app/Error/ErrorDetails";import{telemetry as a}from"./app/telemetry";import{otelTelemetry as i}from"./app/telemetry/otel/telemetry";class u extends n.Component{constructor(r){super(r),this.state={error:void 0}}componentDidCatch(r,s){const{name:e,message:t}=r,o={name:e,message:t,stack:s.componentStack??void 0};this.setState({error:o}),a.send("client_error_caught",{message:`${e}: ${t}`,url:location.href}),i.sendError(o,"ReactErrorBoundary"),process.env.NODE_ENV!=="production"&&console.log(r)}render(){return this.state.error&&process.env.NODE_ENV!=="production"?n.createElement(c,{error:this.state.error}):this.props.children}}export{u as ErrorBoundary};

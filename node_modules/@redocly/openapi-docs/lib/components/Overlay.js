"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Overlay=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),styled_components_1=__importDefault(require("styled-components")),INVALID_KEY="Invalid license key",INVALID_KEY_MISSING=INVALID_KEY+": missing key",EXPIRED="Invalid license key: expired",TRIAL_EXPIRED=EXPIRED,INVALID_HOST="Invalid license key: host not allowed",Overlay=({licenseInfo:e})=>{const[i,t]=(0,react_1.useState)(null),[r,n]=(0,react_1.useState)(-1),[s,l]=(0,react_1.useState)(!1);return(0,react_1.useEffect)((()=>{var i;e.local?l(!0):(e.valid?e.allowed?e.expired&&t(e.t?EXPIRED:TRIAL_EXPIRED):t(INVALID_HOST):t(!1===e.valid?INVALID_KEY+(e.cryptoMissing?": works only with https":""):INVALID_KEY_MISSING),e.t&&n(Math.ceil(((null!==(i=null==e?void 0:e.e)&&void 0!==i?i:0)-Date.now()/1e3)/60/60/24)))}),[e]),s?(0,jsx_runtime_1.jsxs)(TrialWrap,{children:[(0,jsx_runtime_1.jsx)("a",{href:"https://redoc.ly",children:"Redocly API reference docs"})," preview"]}):!i&&r>-1?(0,jsx_runtime_1.jsxs)(TrialWrap,{children:[" Trial version: ",r," days remaining "]}):i?(0,jsx_runtime_1.jsx)(Flash,{children:(0,jsx_runtime_1.jsxs)("span",{children:[i," ",(0,jsx_runtime_1.jsx)("br",{}),(0,jsx_runtime_1.jsxs)("small",{children:["Please contact ",(0,jsx_runtime_1.jsx)("a",{href:"mailto:team@redoc.ly",children:"team@redoc.ly"})," to remedy the problem."," "]})]})}):null};exports.Overlay=Overlay;const TrialWrap=styled_components_1.default.div`
  padding: 10px 40px;
  position: fixed;
  text-align: right;
  width: 100%;
  box-sizing: border-box;
  color: orange;
  z-index: var(--z-index-surface);
  opacity: 0.6;

  > a,
  a:visited {
    color: orange;
  }
`,Flash=styled_components_1.default.div`
  font-size: 1.5em;
  position: fixed;
  z-index: var(--z-index-raised);
  background: rgba(38, 50, 56, 0.93);
  margin: 0;
  padding: 1em;
  width: 100%;
  color: white;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;

  text-align: center;
  box-sizing: border-box;

  > span {
    display: inline-block;
    line-height: 1.5;
  }

  a,
  a:hover,
  a:visited {
    color: white;
  }
`;
//# sourceMappingURL=Overlay.js.map
"use strict";var __rest=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.OneOfSchema=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),jotai_1=require("jotai"),styled_components_1=__importDefault(require("styled-components")),common_1=require("../common"),Markdown_1=require("../Markdown"),ConstraintsView_1=require("../common/ConstraintsView"),Schema_1=require("./Schema"),operation_1=require("../../jotai/operation"),SchemaSelection_1=require("../common/SchemaSelection"),useOneOfLocationIdx_1=require("./useOneOfLocationIdx"),hooks_1=require("../../hooks");function OneOfSchemaComponent(e){var t,{schema:{oneOf:o},schema:n,oneOfLevel:r=1}=e,i=__rest(e,["schema","schema","oneOfLevel"]);const s=(0,hooks_1.useTranslate)(),a=(0,jotai_1.useAtomValue)((0,operation_1.operationStore)(n.operationPointer)),c=(0,useOneOfLocationIdx_1.useOneOfLocationIdx)(o,r),_=-1===c?0:c,l=o[void 0!==(null===(t=a.activeOneOf)||void 0===t?void 0:t[n.pointer])?a.activeOneOf[n.pointer]:_];if(!l)return null;const m=o.map(((e,t)=>({label:e.title||e.typePrefix+e.displayType,value:t})));return(0,jsx_runtime_1.jsxs)(Wrapper,{children:[(0,jsx_runtime_1.jsxs)(common_1.SelectionTitle,{children:[n.oneOfType,":"]}),(0,jsx_runtime_1.jsx)(SchemaSelection_1.SchemaSelection,{options:m,pointer:n.operationPointer,schema:n,defaultOneOfIdx:_}),l.deprecated&&(0,jsx_runtime_1.jsx)(common_1.StyledBadge,{deprecated:!0,children:s("openapi.badges.deprecated","Deprecated")}),l.description&&(0,jsx_runtime_1.jsx)(StyledDescription,{source:l.description}),(0,jsx_runtime_1.jsx)(ConstraintsView_1.ConstraintsView,{constraints:l.constraints}),(0,jsx_runtime_1.jsx)(Schema_1.Schema,Object.assign({},i,{schema:l,oneOfLevel:r+1}))]})}exports.OneOfSchema=(0,react_1.memo)(OneOfSchemaComponent);const StyledDescription=(0,styled_components_1.default)(Markdown_1.Markdown)`
  margin-top: var(--spacing-xs);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
`,Wrapper=styled_components_1.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 100%;
`;
//# sourceMappingURL=OneOfSchema.js.map
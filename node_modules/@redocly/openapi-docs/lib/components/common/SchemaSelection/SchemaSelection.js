"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SchemaSelection=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),jotai_1=require("jotai"),theme_1=require("@redocly/theme"),Dropdown_1=require("../Dropdown"),operation_1=require("../../../jotai/operation"),LIMIT_FOR_SEGMENTED=5;function SchemaSelectionComponent({options:e,onChange:t,pointer:o,schema:n,defaultOneOfIdx:i}){var a,r;const[s,c]=(0,jotai_1.useAtom)((0,operation_1.operationStore)(o)),l=null===(r=e[null!==(a=s.activeOneOf[n.pointer])&&void 0!==a?a:i])||void 0===r?void 0:r.value,u=(0,react_1.useCallback)((({value:e})=>{void 0!==e&&(t?t(e):c((t=>{var o,i;return Object.assign(Object.assign({},t),{activeExampleName:(null===(i=null===(o=n.oneOf)||void 0===o?void 0:o[e])||void 0===i?void 0:i.title)||t.activeExampleName,activeOneOf:Object.assign(Object.assign({},t.activeOneOf),{[n.pointer]:e})})})))}),[t,n.oneOf,n.pointer,c]);return(0,theme_1.isUndefined)(l)?null:e.length>LIMIT_FOR_SEGMENTED?(0,jsx_runtime_1.jsx)(Dropdown_1.Dropdown,{options:e,value:l,onChange:u}):(0,jsx_runtime_1.jsx)(theme_1.Segmented,{value:l,onChange:u,options:e,size:"small","data-testid":"segmented-schema"})}exports.SchemaSelection=SchemaSelectionComponent;
//# sourceMappingURL=SchemaSelection.js.map
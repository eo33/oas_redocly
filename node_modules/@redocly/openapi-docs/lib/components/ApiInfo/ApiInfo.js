"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApiInfo=ApiInfo;const jsx_runtime_1=require("react/jsx-runtime"),jotai_1=require("jotai"),theme_1=require("@redocly/theme"),styled_components_1=__importDefault(require("styled-components")),app_1=require("../../jotai/app"),common_1=require("../common"),ExternalDocumentation_1=require("../ExternalDocumentation"),Markdown_1=require("../Markdown"),styled_1=require("./styled"),store_1=require("../../jotai/store"),saveTextBeforeHeading_1=require("../../utils/saveTextBeforeHeading"),helpers_1=require("../../utils/helpers"),RenderHook_1=require("../RenderHook"),Metadata_1=require("./Metadata"),RightPanel_1=require("../RightPanel"),hooks_1=require("../../hooks");function ApiInfo({item:e}){const t=(0,hooks_1.useTranslate)(),{options:{unstable_hooks:r,hideInfoMetadata:o},parser:{definition:n}}=(0,jotai_1.useAtomValue)(store_1.globalStoreAtom),i=(0,jotai_1.useAtomValue)(app_1.layoutAtom),a=e.infoDefinition;if(!a)return null;const s=(0,saveTextBeforeHeading_1.saveTextBeforeHeading)((0,helpers_1.getValueFromMdParsedExtension)(a,"description")||""),_=(0,helpers_1.getValueFromMdParsedExtension)(a,"summary")||void 0,l=null==n?void 0:n.externalDocs,u=a.version&&(0,jsx_runtime_1.jsxs)("span",{children:["(",a.version,")"]})||null,d=i===theme_1.LayoutVariant.STACKED;return(0,jsx_runtime_1.jsxs)(common_1.Row,{layout:i,children:[(0,jsx_runtime_1.jsxs)(common_1.SamplesMiddlePanel,{fullWidth:!0,className:"api-info",isStacked:d,children:[(0,jsx_runtime_1.jsxs)(styled_1.ApiHeader,{children:[a.title," ",u]}),(0,jsx_runtime_1.jsx)(RenderHook_1.RenderHook,{Hook:theme_1.AfterOpenApiTitle||(null==r?void 0:r.AfterApiTitle),props:{info:a}}),_&&(0,jsx_runtime_1.jsx)(Markdown_1.Markdown,{source:_,"data-role":"redoc-summary"}),s&&(0,jsx_runtime_1.jsx)(Markdown_1.Markdown,{source:s,"data-role":"redoc-description"}),l&&(0,jsx_runtime_1.jsx)(ExternalDocumentation_1.ExternalDocumentation,{externalDocs:l}),!o&&(0,jsx_runtime_1.jsx)(Metadata_1.Metadata,{metadata:a["x-metadata"],translate:t})]}),d&&(0,jsx_runtime_1.jsx)(RightPanelContainer,{isStacked:d,children:(0,jsx_runtime_1.jsx)(RightPanel_1.RightPanel,{item:e})})]})}const RightPanelContainer=(0,styled_components_1.default)(common_1.SamplesPanel)`
  position: static;
`;
//# sourceMappingURL=ApiInfo.js.map
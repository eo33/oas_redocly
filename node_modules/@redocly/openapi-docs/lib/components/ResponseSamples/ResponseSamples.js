"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResponseSamples=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),jotai_1=require("jotai"),PayloadSamples_1=require("../PayloadSamples"),events_1=require("../../events"),store_1=require("../../jotai/store"),Summary_1=require("./Summary"),Tabs_1=require("../Tabs"),common_1=require("../common");function ResponseSamplesComponent({operation:e,activeResponseTab:o,onTabChange:s}){const{events:a}=(0,jotai_1.useAtomValue)(store_1.globalOptionsAtom),n=e.responses.filter((e=>{var o,s;return null!==(s=null===(o=e.content)||void 0===o?void 0:o.hasSample)&&void 0!==s&&s})),r=n.map((({code:e})=>({key:e,title:e}))),t=(null==r?void 0:r.find((({key:e})=>e===o)))||(null==r?void 0:r[0]),l=(0,react_1.useCallback)((()=>{var o;const s=(0,events_1.createCodeSampleCopyEvent)({operation:e,type:"response"});null===(o=null==a?void 0:a.codeSamplesCopy)||void 0===o||o.call(a,s)}),[e,a]);if(!n.length)return null;return(0,jsx_runtime_1.jsx)(common_1.CodeBlockPanel,{className:"panel-response-samples",header:()=>(0,jsx_runtime_1.jsx)(Summary_1.Summary,{tabs:(0,jsx_runtime_1.jsx)(Tabs_1.Tabs,{tabs:r,activeTab:t,onChange:e=>s(e.key)})}),isExpandable:!1,children:n.map((e=>e.code===t.key?(0,jsx_runtime_1.jsx)("div",{children:(0,jsx_runtime_1.jsx)(PayloadSamples_1.PayloadSamples,{content:e.content,onCopyClick:l})},e.code):null))})}exports.ResponseSamples=(0,react_1.memo)(ResponseSamplesComponent);
//# sourceMappingURL=ResponseSamples.js.map
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildMenuStructure=buildMenuStructure,exports.buildContentItems=buildContentItems;const tags_1=require("./tags"),markdown_1=require("./markdown"),utils_1=require("../../utils"),constants_1=require("../../constants");function buildMenuStructure(t,e){var n,i,s;const{definition:o}=t,{schemaDefinitionsTagName:u}=e,r=[{id:"",name:(null===(i=null===(n=null==o?void 0:o.info)||void 0===n?void 0:n["x-seo"])||void 0===i?void 0:i.title)||(null===(s=null==o?void 0:o.info)||void 0===s?void 0:s.title)||"Overview",href:"/",depth:1,level:1,type:"section",infoDefinition:o.info,items:[]}],d=[...o.tags||[]];d.some((t=>t.name===constants_1.DEFAULT_WEBHOOKS_TAG_NAME))||d.push({name:constants_1.DEFAULT_WEBHOOKS_TAG_NAME});!d.find((t=>(null==t?void 0:t.name)===u))&&u&&d.push({name:u});const a=(0,tags_1.getTagsWithOperations)(t,d),l=o["x-tagGroups"];return r.push(...(0,markdown_1.addMarkdownItems)((0,utils_1.getValueFromMdParsedExtension)(o.info,"description")||"",void 0,1)),l&&l.length>0?r.push(...(0,tags_1.getTagGroupsItems)(t,void 0,l,a,e)):r.push(...(0,tags_1.getTagsItems)(t,a,void 0,void 0,e)),r}function buildContentItems(t,e){const n=buildMenuStructure(t,e);return{contentItems:n,flatItems:(0,utils_1.flattenByProp)(n||[],"items")}}
//# sourceMappingURL=builder.js.map
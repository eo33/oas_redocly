"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.objectToPhpArray=objectToPhpArray;const simpleTypes=["number","boolean","function","symbol"];function isRegexp(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function isObject(e){const n=typeof e;return null!==e&&("object"===n||"function"===n)}function objectToPhpArray(e,n,r=""){const t=[];return function e(n,r={},i=""){r.indent=r.indent||"\t";const a={newLine:"\n",newLineOrSpace:"\n",pad:i,indent:i+r.indent},o=e=>{if(void 0===r.inlineCharacterLimit)return e;const n=e.replace(new RegExp(a.newLine,"g"),"").replace(new RegExp(a.newLineOrSpace,"g")," ").replace(new RegExp(a.pad+"|"+a.indent,"g"),"");return n.length<=r.inlineCharacterLimit?n:e.replace(new RegExp(a.newLine+"|"+a.newLineOrSpace,"g"),"\n").replace(new RegExp(a.pad,"g"),i).replace(new RegExp(a.indent,"g"),i+r.indent)};if(-1!==t.indexOf(n))return'"Circular"';if(null===n)return"NULL";if(void 0===n||simpleTypes.includes(typeof n)||isRegexp(n))return String(n);if(n instanceof Date)return`date('${n.toISOString()}')`;if(Array.isArray(n)){if(0===n.length)return"array()";t.push(n);const p="array("+a.newLine+n.map(((t,o)=>{const p=n.length-1===o?a.newLine:","+a.newLineOrSpace;let c=e(t,r,i+r.indent);return r.transform&&(c=r.transform(n,o,c)),a.indent+c+p})).join("")+a.pad+")";return t.pop(),o(p)}if(isObject(n)){let p=Object.keys(n);if(r.filter&&(p=p.filter((e=>{var t;return null===(t=r.filter)||void 0===t?void 0:t.call(r,n,e)}))),0===p.length)return Array.isArray(n)?"array()":"(object)[]";t.push(n);const c="array("+a.newLine+p.map(((t,o)=>{const c=p.length-1===o?a.newLine:","+a.newLineOrSpace,l="symbol"==typeof t,s=!l&&/^[a-z$_][a-z$_0-9]*$/i.test(t),u=l||s?t:e(t,r);let g=e(n[t],r,i+r.indent);return r.transform&&(g=r.transform(n,t,g)),`${a.indent}"${String(u)}" => ${g}${c}`})).join("")+a.pad+")";return t.pop(),o(c)}return n=String(n).replace(/[\r\n]/g,(e=>"\n"===e?"\\n":"\\r")),!1===r.singleQuotes?`"${n=n.replace(/"/g,'\\"')}"`:`"${n=n.replace(/\\?'/g,"\\'")}"`}(e,n,r)}
//# sourceMappingURL=utils.js.map
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(n,a,t,e){void 0===e&&(e=t);var i=Object.getOwnPropertyDescriptor(a,t);i&&!("get"in i?!a.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return a[t]}}),Object.defineProperty(n,e,i)}:function(n,a,t,e){void 0===e&&(e=t),n[e]=a[t]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(n,a){Object.defineProperty(n,"default",{enumerable:!0,value:a})}:function(n,a){n.default=a}),__importStar=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var a={};if(null!=n)for(var t in n)"default"!==t&&Object.prototype.hasOwnProperty.call(n,t)&&__createBinding(a,n,t);return __setModuleDefault(a,n),a},__importDefault=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CodeBuilder=void 0;const util=__importStar(require("util")),constants_1=require("./constants"),string_utility_1=__importDefault(require("./string-utility")),langToVarNameConvention={[constants_1.Lang.NODEJS]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.JAVASCRIPT]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.PYTHON]:constants_1.NamingVariableConventions.UNDER_SCORES,[constants_1.Lang.JAVA8]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.JAVA]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.CSHARP]:constants_1.NamingVariableConventions.PASCAL_CASE,[constants_1.Lang.CSHARPNEWTONSOFT]:constants_1.NamingVariableConventions.PASCAL_CASE,[constants_1.Lang.CURL]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.GO]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.PHP]:constants_1.NamingVariableConventions.CAMEL_CASE,[constants_1.Lang.RUBY]:constants_1.NamingVariableConventions.UNDER_SCORES,[constants_1.Lang.R]:constants_1.NamingVariableConventions.UNDER_SCORES},langOptions={default:{joinSymbol:"",variableWrapperFn:n=>n,stringLiteral:n=>n,variableDeclaration:n=>n,urlFieldName:"url"},[constants_1.Lang.CSHARP]:{joinSymbol:" + ",stringLiteral:n=>`"${n}"`,variableDeclaration:n=>`var ${n} = "%s";`,urlFieldName:"fullUrl"},[constants_1.Lang.CSHARPNEWTONSOFT]:{joinSymbol:" + ",stringLiteral:n=>`"${n}"`,variableDeclaration:n=>`var ${n} = "%s";`,urlFieldName:"fullUrl"},[constants_1.Lang.GO]:{joinSymbol:" + ",stringLiteral:n=>`"${n}"`,variableDeclaration:n=>`${n} := "%s";`},[constants_1.Lang.JAVA]:{joinSymbol:" + ",stringLiteral:n=>`"${n}"`,variableDeclaration:n=>`var ${n} = "%s";`,urlFieldName:"pathname"},[constants_1.Lang.JAVA8]:{joinSymbol:" + ",stringLiteral:n=>`"${n}"`,variableDeclaration:n=>`String ${n} = "%s";`,urlFieldName:"fullUrl"},[constants_1.Lang.JAVASCRIPT]:{variableWrapperFn:n=>"${"+n+"}",variableDeclaration:n=>`const ${n} = '%s';`},[constants_1.Lang.NODEJS]:{variableWrapperFn:n=>"${"+n+"}",variableDeclaration:n=>`const ${n} = '%s';`},[constants_1.Lang.PHP]:{joinSymbol:" . ",stringLiteral:n=>`"${n}"`,variableDeclaration:n=>`const ${n} = "%s";`},[constants_1.Lang.PYTHON]:{stringLiteral:n=>`"${n}"`,joinSymbol:" + ",variableDeclaration:n=>`${n} = "%s"`},[constants_1.Lang.RUBY]:{joinSymbol:" + ",stringLiteral:n=>`'${n}'`,variableDeclaration:n=>`${n} = '%s'`},[constants_1.Lang.CURL]:{variableWrapperFn:(n,a)=>a||`{${n}}`,urlFieldName:"fullUrl",rawName:!0},[constants_1.Lang.R]:{joinSymbol:" %&% ",variableDeclaration:n=>`${n} = "%s"`,urlFieldName:"fullUrl",stringLiteral:n=>`"${n}"`,variableWrapperFn:n=>`${n}`}},reservedVariableNames=["response","request","requests","data","url","payload","main","accessToken","resp","Program","client","postData","App","httpClient","params","pathname","host","body","fetch","query"];class CodeBuilder{constructor({indentation:n,lineJoin:a="\n",variablesPrefix:t="",capitalize:e=!1,lang:i=constants_1.Lang.CURL}){Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"indentation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"variablesPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"capitalize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lang",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"langOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=[],this.indentation=n,this.variablesPrefix=t,this.lineJoin=a||"\n",this.capitalize=e,this.lang=i,this.langOptions=Object.assign(Object.assign({},langOptions.default),langOptions[i])}buildLine(n,a){let t="",e=2;if("string"==typeof n)e=1,a=n,n=0;else if(null===n)return null;for(;n;)t+=this.indentation,n--;const i=Array.prototype.slice.call(arguments,e,arguments.length);return i.unshift(t+a),util.format.apply(this,i)}unshift(...n){return this.code.unshift(this.buildLine.apply(this,n)),this}push(...n){return this.code.push(this.buildLine.apply(this,n)),this}blank(){return this.code.push(null),this}join(){return this.code.join(this.lineJoin)}clean(){this.code.splice(1)}var(n,a=constants_1.VariableType.CUSTOM){if(a===constants_1.VariableType.PATH){let a=this.variablesPrefix+n;switch(reservedVariableNames.includes(a)&&(a=`${a}_path`),langToVarNameConvention[this.lang]){case constants_1.NamingVariableConventions.UNDER_SCORES:a=string_utility_1.default.toSnakeCase(a);break;case constants_1.NamingVariableConventions.PASCAL_CASE:a=string_utility_1.default.toPascalCase(a);break;case constants_1.NamingVariableConventions.CAMEL_CASE:default:a=string_utility_1.default.toCamelCase(a)}return a}return this.variablesPrefix?this.variablesPrefix+(this.capitalize?string_utility_1.default.toPascalCase(n):n):n}}exports.CodeBuilder=CodeBuilder;
//# sourceMappingURL=code-builder.js.map
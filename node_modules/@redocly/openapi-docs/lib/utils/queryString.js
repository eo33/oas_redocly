"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.queryString=void 0;const string_1=require("./string");class QueryString{parse(t){const e={};if(!t)return e;const n=t.startsWith("?")?t.substring(1).split("&"):t.split("&");for(const t of n){const[n,r]=t.split("=");if(n&&r){const t=(0,string_1.tryDecodeURIComponent)(n),o=(0,string_1.tryDecodeURIComponent)(r);if(t in e)Array.isArray(e[t])?e[t].push(o):e[t]=[e[t],o];else{const n=[",","|"].find((t=>o.includes(t)));e[t]=n?o.split(n):o}}}return e}stringify(t,e={encode:!0,sort:!0}){const n=[];for(const[r,o]of Object.entries(t))if(Object.prototype.hasOwnProperty.call(t,r)){const t=e.encode?encodeURIComponent(r):r;if(Array.isArray(o)){for(const r of o)if(r){const o=e.encode?encodeURIComponent(r):r;n.push(`${t}=${o}`)}}else if(o){const r=e.encode?encodeURIComponent(o):o;n.push(`${t}=${r}`)}}return e.sort&&n.sort(),n.join("&")}}const queryString=new QueryString;exports.queryString=queryString;
//# sourceMappingURL=queryString.js.map
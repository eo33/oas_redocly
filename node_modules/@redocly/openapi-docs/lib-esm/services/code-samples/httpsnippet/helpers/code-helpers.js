import{VariableType}from"./constants";export function getPreserveTransformer({body:e,authorizationHeader:r}){return function(n,t,a){return e&&"body"===t&&"string"==typeof n.body?n.body:r&&"Authorization"===t&&"string"==typeof n.Authorization?n.Authorization:a}}export function addIndentation(e,{level:r=0,indent:n="  ",firstLine:t=!0}={}){const a=n.repeat(r),i=e.replace(/(\r\n|\n|\r)/gm,`\n${a}`);return t?a.concat(i):i}export function parseUrlIntoOperands(e,r){const n=Object.keys(r).map((r=>({name:r,idx:e.indexOf(`{${r}}`)}))).filter((({idx:e})=>e>-1)).sort(((e,r)=>e.idx-r.idx)),t=[];let a=0;for(const{name:r,idx:i}of n)i>a&&t.push({type:"string",value:e.substring(a,i)}),t.push({type:"variable",name:r}),a=i+r.length+2;return a<e.length&&t.push({type:"string",value:e.substring(a)}),t}export function buildUrlExpression(e,r){const{joinSymbol:n,variableWrapperFn:t,stringLiteral:a,urlFieldName:i,rawName:o}=r.langOptions,{pathParameters:s={},serverVariables:p={}}=e,l=Object.assign(Object.assign({},s),p);return parseUrlIntoOperands(e[i]||"",l).map((e=>{if("variable"===e.type){const n=l[e.name],a=o?e.name:r.var(e.name,VariableType.PATH);return t(a,n)}return a(e.value)})).join(n)}export function printUrlVariablesDeclarations({pathParameters:e={},serverVariables:r={}},n,t){Object.entries(Object.assign(Object.assign({},e),r)).forEach((([e,r])=>{if("server"===e)return;const a=r||`YOUR_${e}_PARAMETER`,i=n.var(e,VariableType.PATH);void 0!==t?n.push(t,n.langOptions.variableDeclaration(i),a):n.push(n.langOptions.variableDeclaration(i),a)}))}
//# sourceMappingURL=code-helpers.js.map
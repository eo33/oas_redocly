import{getStatusCodeType,getContentWithLegacyExamples,JsonPointer,getValueFromMdParsedExtension}from"../utils";import{getField}from"./field";import{getMediaContent}from"./mediaContent";export function getResponse({parser:e,code:t,defaultAsError:o,infoOrRef:n,options:s,isEvent:r,operation:i}){const a=!!r,{resolved:d}=e.deref(n),p={code:t};void 0!==d["x-summary"]?(p.summary=getValueFromMdParsedExtension(d,"x-summary"),p.description=getValueFromMdParsedExtension(d,"description")||""):(p.summary=getValueFromMdParsedExtension(d,"description")||"",p.description=""),p.type=getStatusCodeType(t,o);const m=d.headers,u=n.$ref||JsonPointer.join((null==i?void 0:i.pointer)||"",["responses",t]);void 0!==m&&(p.headers=Object.keys(m).map((t=>{const o=m[t];return getField(e,Object.assign(Object.assign({},o),{name:t}),JsonPointer.join(u,["headers",t]),s,{operation:i,type:"response",response:p})})));const c=getContentWithLegacyExamples(d);return void 0!==c&&(p.content=getMediaContent({parser:e,info:c,isRequestType:a,options:s,data:{operation:i,type:"response",response:p,absolutePointer:u}})),p}
//# sourceMappingURL=response.js.map
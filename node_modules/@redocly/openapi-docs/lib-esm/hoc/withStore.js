var __rest=this&&this.__rest||function(o,t){var e={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&t.indexOf(r)<0&&(e[r]=o[r]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(o);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(o,r[l])&&(e[r[l]]=o[r[l]])}return e};import{jsx as _jsx}from"react/jsx-runtime";import{useEffect}from"react";import{useAtom,useAtomValue}from"jotai";import{layoutAtom,collapsedSidebarAtom}from"../jotai/app";import{globalStoreAtom}from"../jotai/store";export function withStore(o){return t=>{var{portalOptions:e}=t,r=__rest(t,["portalOptions"]);const[l,a]=useAtom(layoutAtom),[s,i]=useAtom(collapsedSidebarAtom),{options:p,parser:n}=useAtomValue(globalStoreAtom);return useEffect((()=>{(null==e?void 0:e.layout)&&a(e.layout)}),[null==e?void 0:e.layout,a]),useEffect((()=>{"boolean"==typeof(null==e?void 0:e.collapsedSidebar)&&i(e.collapsedSidebar)}),[null==e?void 0:e.collapsedSidebar,i]),n?_jsx(o,Object.assign({},r,{options:p,layout:l,collapsedSidebar:s,parser:n})):null}}
//# sourceMappingURL=withStore.js.map
var __rest=this&&this.__rest||function(e,o){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)o.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};import{jsxs as _jsxs,jsx as _jsx}from"react/jsx-runtime";import{memo}from"react";import{useAtomValue}from"jotai";import styled from"styled-components";import{StyledBadge,SelectionTitle}from"../common";import{Markdown}from"../Markdown";import{ConstraintsView}from"../common/ConstraintsView";import{Schema}from"./Schema";import{operationStore}from"../../jotai/operation";import{SchemaSelection}from"../common/SchemaSelection";import{useOneOfLocationIdx}from"./useOneOfLocationIdx";import{useTranslate}from"../../hooks";function OneOfSchemaComponent(e){var o,{schema:{oneOf:t},schema:n,oneOfLevel:r=1}=e,i=__rest(e,["schema","schema","oneOfLevel"]);const s=useTranslate(),a=useAtomValue(operationStore(n.operationPointer)),c=useOneOfLocationIdx(t,r),m=-1===c?0:c,p=t[void 0!==(null===(o=a.activeOneOf)||void 0===o?void 0:o[n.pointer])?a.activeOneOf[n.pointer]:m];if(!p)return null;const l=t.map(((e,o)=>({label:e.title||e.typePrefix+e.displayType,value:o})));return _jsxs(Wrapper,{children:[_jsxs(SelectionTitle,{children:[n.oneOfType,":"]}),_jsx(SchemaSelection,{options:l,pointer:n.operationPointer,schema:n,defaultOneOfIdx:m}),p.deprecated&&_jsx(StyledBadge,{deprecated:!0,children:s("openapi.badges.deprecated","Deprecated")}),p.description&&_jsx(StyledDescription,{source:p.description}),_jsx(ConstraintsView,{constraints:p.constraints}),_jsx(Schema,Object.assign({},i,{schema:p,oneOfLevel:r+1}))]})}export const OneOfSchema=memo(OneOfSchemaComponent);const StyledDescription=styled(Markdown)`
  margin-top: var(--spacing-xs);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
`,Wrapper=styled.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  width: 100%;
`;
//# sourceMappingURL=OneOfSchema.js.map
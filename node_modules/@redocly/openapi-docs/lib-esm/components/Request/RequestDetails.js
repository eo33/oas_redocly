import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from"react/jsx-runtime";import{memo,useMemo}from"react";import{useAtomValue}from"jotai";import styled from"styled-components";import{Row}from"../common";import{Title}from"../common/OperationItemTitle";import{LinkToField}from"../common/LinkToField";import{makeDeepLink}from"../../services";import{Description}from"../OperationItem/Description";import{Security}from"../Security";import{ExpandAllButton}from"../ExpandAllButton";import{RequestParameters}from"../RequestParameters";import{activeMimeNameAtom}from"../../jotai/app";import{getActiveMediaType}from"../../models/mediaContent";function RequestDetailsComponent({operation:{id:e,description:t,externalDocs:o,parameters:i,requestBody:r,pointer:s,security:m,extensions:n,callbackId:a},title:p,translate:l}){const c=useAtomValue(activeMimeNameAtom),d=useMemo((()=>{var e;const t=i.some((({schema:e})=>!e.isPrimitive&&!e.isCircular));if(!(null==r?void 0:r.content)||t)return t;const{schema:o}=getActiveMediaType(r.content,c)||{};return null===(e=null==o?void 0:o.fields)||void 0===e?void 0:e.some((({schema:e})=>!e.isPrimitive&&!e.isCircular))}),[c,i,null==r?void 0:r.content]);return _jsxs(_Fragment,{children:[_jsx(Row,{children:_jsxs(HeadingWrapper,{children:[_jsxs(Title,{children:[e&&_jsx(LinkToField,{to:makeDeepLink(e,"request")}),p||(null==l?void 0:l("openapi.request","Request")),d&&_jsx(ExpandAllButton,{operationPointer:s,type:"request"})]}),_jsx(Description,{description:t||o?t:void 0,externalDocs:o,extensions:n}),_jsx(Security,{securities:m})]})}),_jsx(RequestParameters,{parameters:i,body:r,operationId:e,callbackId:a})]})}const HeadingWrapper=styled.div`
  width: 100%;
`;export const RequestDetails=memo(RequestDetailsComponent);
//# sourceMappingURL=RequestDetails.js.map
import{jsx as _jsx}from"react/jsx-runtime";import{memo,useCallback}from"react";import{useAtomValue}from"jotai";import{PayloadSamples}from"../PayloadSamples";import{createCodeSampleCopyEvent}from"../../events";import{globalOptionsAtom}from"../../jotai/store";import{Summary}from"./Summary";import{Tabs}from"../Tabs";import{CodeBlockPanel}from"../common";function ResponseSamplesComponent({operation:e,activeResponseTab:o,onTabChange:a}){const{events:n}=useAtomValue(globalOptionsAtom),l=e.responses.filter((e=>{var o,a;return null!==(a=null===(o=e.content)||void 0===o?void 0:o.hasSample)&&void 0!==a&&a})),s=l.map((({code:e})=>({key:e,title:e}))),t=(null==s?void 0:s.find((({key:e})=>e===o)))||(null==s?void 0:s[0]),m=useCallback((()=>{var o;const a=createCodeSampleCopyEvent({operation:e,type:"response"});null===(o=null==n?void 0:n.codeSamplesCopy)||void 0===o||o.call(n,a)}),[e,n]);if(!l.length)return null;return _jsx(CodeBlockPanel,{className:"panel-response-samples",header:()=>_jsx(Summary,{tabs:_jsx(Tabs,{tabs:s,activeTab:t,onChange:e=>a(e.key)})}),isExpandable:!1,children:l.map((e=>e.code===t.key?_jsx("div",{children:_jsx(PayloadSamples,{content:e.content,onCopyClick:m})},e.code):null))})}export const ResponseSamples=memo(ResponseSamplesComponent);
//# sourceMappingURL=ResponseSamples.js.map